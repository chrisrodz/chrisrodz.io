---
import Layout from '@/layouts/Layout.astro';
import { getLocaleFromUrl, t } from '@/lib/i18n';

const locale = getLocaleFromUrl(Astro.url);
const title = t(locale, 'nav.dobleseis');
const appleStoreUrl = 'https://apps.apple.com/us/app/dobleseis/id1635254549';
const playStoreUrl =
  'https://play.google.com/store/apps/details?id=com.care.DobleSeis&pcampaignid=web_share';
---

<Layout title={title}>
  <p>{t(locale, 'dobleseis.redirecting')}</p>

  <script is:inline define:vars={{ appleStoreUrl, playStoreUrl }}>
    const userAgent = navigator.userAgent || '';
    const isApple = /iPad|iPhone|iPod|Macintosh|Mac OS X/.test(userAgent);
    const targetUrl = isApple ? appleStoreUrl : playStoreUrl;
    window.location.replace(targetUrl);
  </script>
</Layout>
