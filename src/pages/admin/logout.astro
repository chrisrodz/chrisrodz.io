---
import { deleteSession, clearAuthCookie } from '../../lib/auth';

export const prerender = false;

const cookies = Astro.cookies;
const sessionId = cookies.get('session_id')?.value ?? undefined;

await deleteSession(sessionId);
clearAuthCookie(cookies);

return Astro.redirect('/admin?logout=success');
---
